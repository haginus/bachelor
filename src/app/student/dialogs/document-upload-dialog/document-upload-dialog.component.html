<div mat-dialog-title>
    <h2 class="title" *ngIf="mode == 'signDocument'">Semnați documentul</h2>
    <h2 class="title" *ngIf="mode == 'uploadDocument'">Încărcați documentul</h2>
    <h3 class="subtitle">{{data.document.title}}</h3>
</div>

<mat-dialog-content class="mat-typography" *ngIf="mode == 'signDocument'">
    <div *ngIf="state == 'initial'">
        <p>
            Descărcați fișierul generat și aplicați semnătura. Apoi, îl veți încărca înapoi în platformă.
        </p>
        <div fxLayout="row" fxLayoutAlign="center" *ngIf="state == 'initial'">
            <button mat-button (click)="downloadDocument()" *ngIf="!isLoadingFile">Descărcați documentul</button>
            <mat-spinner [diameter]="36" *ngIf="isLoadingFile"></mat-spinner>
        </div>
    </div>

    <div *ngIf="state == 'docDownloaded'">
        <p>
        Încărcați documentul semnat. <br>
        Fișiere acceptete: {{ acceptedExtensions }}
        </p>
        <div fxLayout="column" fxLayoutAlign="center center">
            <div [hidden]="isLoadingFile">
                <label for="file" class="mat-raised-button">Încărcați</label>
                <input type="file" id="file" [accept]="data.document.acceptedMimeTypes" (change)="handleFileInput($event.target, 'signed')">     
            </div>
            <mat-spinner [diameter]="36" *ngIf="isLoadingFile"></mat-spinner>
        </div>
    </div>
</mat-dialog-content>

<mat-dialog-content class="mat-typography" *ngIf="mode == 'uploadDocument'">
    <p>
    Fișiere acceptete: {{ acceptedExtensions }}
    </p>
    <div fxLayout="column" fxLayoutAlign="center center">
        <div [hidden]="isLoadingFile">
            <label for="file" class="mat-raised-button">Încărcați</label>
            <input type="file" id="file" [accept]="data.document.acceptedMimeTypes" (change)="handleFileInput($event.target, 'copy')">     
        </div>
        <mat-spinner [diameter]="36" *ngIf="isLoadingFile"></mat-spinner>
    </div>
</mat-dialog-content>
